---
name: create-mn-app
description: Use the official Midnight CLI scaffolding tool to bootstrap new dApps with templates. Includes counter, hello-world, and bulletin board project templates with automatic wallet generation and proof server setup.
---

# Create Midnight App (Official CLI)

The `create-mn-app` CLI is the **official scaffolding tool** for Midnight Network applications, similar to `create-react-app` or `create-next-app`.

## Quick Start

### Interactive Mode (Recommended)
```bash
npx create-mn-app
```

### CLI Mode with Template
```bash
npx create-mn-app my-app --template hello-world
npx create-mn-app my-app --template counter
```

## Available Templates

| Template | Description | Status |
|----------|-------------|--------|
| `hello-world` | Simple starter with basic contract deployment | âœ… Bundled |
| `counter` | Real-world example with increment/decrement and zkProofs | âœ… Remote |
| `bboard` | Bulletin board with multi-user interactions | ðŸ”œ Coming Soon |
| `dex` | Decentralized exchange using FungibleToken | ðŸ”œ Coming Soon |
| `midnight-kitties` | NFT-based full stack dApp | ðŸ”œ Coming Soon |

## CLI Options

```bash
npx create-mn-app [project-name] [options]

Options:
  -t, --template <name>     Template: hello-world, counter
  --use-npm                 Use npm
  --use-yarn                Use Yarn
  --use-pnpm                Use pnpm
  --use-bun                 Use bun
  --skip-install            Skip dependency installation
  --skip-git                Skip git initialization
  --verbose                 Show detailed output
  -h, --help                Help
  -V, --version             Version
```

## System Requirements

- **Node.js 22+** - Required for all templates
- **Docker** - Required for running the proof server
- **npm/yarn/pnpm/bun** - Package manager (auto-detected)
- **Compact Compiler 0.25.0+** - Required for Counter template
  - Auto-update available if version mismatch detected

## Hello World Template

### Project Structure
```
my-app/
â”œâ”€â”€ contracts/
â”‚   â””â”€â”€ hello-world.compact    # Compact smart contract
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ deploy.ts              # Deployment script
â”‚   â”œâ”€â”€ cli.ts                 # Interactive CLI
â”‚   â””â”€â”€ providers/
â”‚       â””â”€â”€ midnight-providers.ts
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ .env                       # Generated wallet seed
â””â”€â”€ .env.example
```

### Available Commands
```bash
npm run setup        # Compile contract, build, and deploy
npm run cli          # Interactive CLI to test contract
npm run check-balance  # Check wallet balance
npm run health-check   # Verify environment setup
npm run compile        # Compile Compact contracts
npm run build          # Build TypeScript
```

### Workflow
```bash
# 1. Create project
npx create-mn-app my-app

# 2. Navigate and setup
cd my-app
npm run setup

# 3. Test with CLI
npm run cli
```

## Counter Template

The Counter template clones from [midnightntwrk/example-counter](https://github.com/midnightntwrk/example-counter).

### Project Structure
```
my-counter-app/
â”œâ”€â”€ contract/                # Smart contract in Compact
â”‚   â”œâ”€â”€ src/counter.compact  # Counter contract source
â”‚   â””â”€â”€ src/test/            # Contract unit tests
â””â”€â”€ counter-cli/             # Command-line interface
    â””â”€â”€ src/                 # CLI implementation
```

### Setup Steps
```bash
# 1. Create with counter template
npx create-mn-app my-counter-app --template counter

# 2. Install dependencies
cd my-counter-app
npm install

# 3. Compile contract
cd contract && npm run compact

# 4. Build CLI
cd ../counter-cli && npm run build

# 5. Start proof server (in separate terminal)
docker run -p 6300:6300 midnightnetwork/proof-server -- \
  'midnight-proof-server --network testnet'

# 6. Run CLI
npm run start-testnet-remote
```

### Counter CLI Features
- Create fresh wallet or restore from seed
- Deploy new counter contract
- Join existing counter contract
- Increment counter (submits zkProof transaction)
- Display current counter value

## Environment Configuration

The CLI generates a `.env` file with:
```bash
# Network Configuration
MIDNIGHT_NETWORK=testnet
PROOF_SERVER_URL=http://127.0.0.1:6300

# Wallet Configuration (KEEP PRIVATE!)
WALLET_SEED=<auto-generated-64-char-hex>

# Contract Configuration
CONTRACT_NAME=hello-world

# Development Settings
DEBUG_LEVEL=info
AUTO_START_PROOF_SERVER=true
```

## Network Endpoints (Auto-Configured)

### Testnet
```typescript
const TESTNET_CONFIG = {
  indexer: 'https://indexer.testnet-02.midnight.network/api/v1/graphql',
  indexerWS: 'wss://indexer.testnet-02.midnight.network/api/v1/graphql/ws',
  node: 'https://rpc.testnet-02.midnight.network',
  proofServer: 'http://127.0.0.1:6300'
};
```

### Local Development
```typescript
const LOCAL_CONFIG = {
  indexer: 'http://127.0.0.1:8088/api/v1/graphql',
  indexerWS: 'ws://127.0.0.1:8088/api/v1/graphql/ws',
  node: 'http://127.0.0.1:9944',
  proofServer: 'http://127.0.0.1:6300'
};
```

## Funding Your Wallet

After creating a wallet, fund it from the testnet faucet:

1. Copy your wallet address from CLI output
2. Visit https://midnight.network/test-faucet
3. Paste address and request funds
4. Wait 2-3 minutes for funds to appear

## Troubleshooting

| Issue | Solution |
|-------|----------|
| Node.js version error | Upgrade to Node.js 22+ |
| `compact: command not found` | Run `source $HOME/.local/bin/env` |
| `connect ECONNREFUSED 127.0.0.1:6300` | Start proof server with Docker |
| Template not found | Use `--template hello-world` or `--template counter` |
| Compact version mismatch | CLI will offer to auto-update |
| Docker issues | Ensure Docker Desktop is running |

## Official Resources

- **GitHub**: https://github.com/midnightntwrk/create-mn-app
- **NPM**: https://www.npmjs.com/package/create-mn-app
- **Example Counter**: https://github.com/midnightntwrk/example-counter
- **Example BBoard**: https://github.com/midnightntwrk/example-bboard
- **Midnight Docs**: https://docs.midnight.network
